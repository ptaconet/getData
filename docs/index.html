<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R functions to download &amp; import various
    spatio-temporal data • getremotedata</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="R functions to download &amp; import various
    spatio-temporal data">
<meta property="og:description" content="This package contains functions to download
    public domain data, eventually containing spatial and
    temporal components.  Particularly, when web-services are implemented
    by the data provider, it enables to download the data for a specific
    region of interest and/or time frame, hence speeding up the overall
    downloading of data on small regions of
    interest.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">getremotedata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/get-started.html">1. Get started </a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ptaconet/getremotedata">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="index_files/kePrint-0.0.1/kePrint.js"></script><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="getremotedata" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#getremotedata" class="anchor"></a>getremotedata</h1></div>
<!-- badges: start -->

<p><strong>getremotedata</strong> is an R package that provides functions to <strong>harmonize</strong> the <strong>download</strong> of various open data collections available on the web.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The package can be installed with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"ptaconet/getremotedata"</span>, <span class="dt">build_vignettes =</span> T, <span class="dt">build_manual =</span> T)</a></code></pre></div>
</div>
<div id="coll-available" class="section level2">
<h2 class="hasAnchor">
<a href="#coll-available" class="anchor"></a>Collections available in getremotedata</h2>
<p>Currently <strong>getremotedata</strong> supports download of 5 data collections. Most data collections provided through getremotedata have a spatial and a temporal component and a global coverage. Details of each product available for download are provided in the table above or through the function <code><a href="reference/grd_list_collections.html">grd_list_collections()</a></code>. Want more details on a specific collection ? Click on the “DOI” column !</p>
<details><summary><b>Data collections available for download with getremotedata (click to expand)</b></summary><p>
</p>
<table class="table table table">
<thead><tr>
<th style="text-align:left;">
Collection
</th>
<th style="text-align:left;">
Name
</th>
<th style="text-align:left;">
Source
</th>
<th style="text-align:left;">
Nature
</th>
<th style="text-align:left;">
DOI
</th>
<th style="text-align:left;">
url_data_server
</th>
<th style="text-align:left;">
param_variables
</th>
<th style="text-align:left;">
param_roi
</th>
<th style="text-align:left;">
param_time_range
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
ERA5
</td>
<td style="text-align:left;">
ERA5 hourly data on single levels from 1979 to present
</td>
<td style="text-align:left;">
ERA5
</td>
<td style="text-align:left;">
Wind
</td>
<td style="text-align:left;">
<a href="https://doi.org/10.24381/cds.adbb2d47" class="uri">https://doi.org/10.24381/cds.adbb2d47</a>
</td>
<td style="text-align:left;">
<a href="https://dominicroye.github.io/en/2018/access-to-climate-reanalysis-data-from-r/" class="uri">https://dominicroye.github.io/en/2018/access-to-climate-reanalysis-data-from-r/</a>
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
</tr>
<tr>
<td style="text-align:left;">
MIRIADE
</td>
<td style="text-align:left;">
The Virtual Observatory Solar System Object Ephemeris Generator
</td>
<td style="text-align:left;">
IMCCE
</td>
<td style="text-align:left;">
Apparent magnitude of the Moon
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<a href="http://vo.imcce.fr/webservices/miriade/?ephemcc" class="uri">http://vo.imcce.fr/webservices/miriade/?ephemcc</a>
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
</tr>
<tr>
<td style="text-align:left;">
SRTMGL1.003
</td>
<td style="text-align:left;">
Digital Elevation Model from the NASA Shuttle Radar Topography Mission Global 1 arc second
</td>
<td style="text-align:left;">
SRTM
</td>
<td style="text-align:left;">
Elevation
</td>
<td style="text-align:left;">
<a href="https://dx.doi.org/10.5067/MEASURES/SRTM/SRTMGL1.003" class="uri">https://dx.doi.org/10.5067/MEASURES/SRTM/SRTMGL1.003</a>
</td>
<td style="text-align:left;">
<a href="https://opendap.cr.usgs.gov/opendap/hyrax/SRTMGL1.003/contents.html" class="uri">https://opendap.cr.usgs.gov/opendap/hyrax/SRTMGL1.003/contents.html</a>
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
</tr>
<tr>
<td style="text-align:left;">
TAMSAT
</td>
<td style="text-align:left;">
Tropical Applications of Meteorology using SATellite data and ground-based observations
</td>
<td style="text-align:left;">
TAMSAT
</td>
<td style="text-align:left;">
Rainfall
</td>
<td style="text-align:left;">
<a href="http://doi.org/10.1038/sdata.2017.63" class="uri">http://doi.org/10.1038/sdata.2017.63</a>
</td>
<td style="text-align:left;">
<a href="https://www.tamsat.org.uk/data/archive" class="uri">https://www.tamsat.org.uk/data/archive</a>
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
</tr>
<tr>
<td style="text-align:left;">
VIIRS_DNB_MONTH
</td>
<td style="text-align:left;">
Visible Infrared Imaging Radiometer Suite (VIIRS) Day/Night Band (DNB)
</td>
<td style="text-align:left;">
VIIRS
</td>
<td style="text-align:left;">
Nighttime lights
</td>
<td style="text-align:left;">
<a href="https://doi.org/10.5067/VIIRS/VNP46A1.001" class="uri">https://doi.org/10.5067/VIIRS/VNP46A1.001</a>
</td>
<td style="text-align:left;">
<a href="https://gis.ngdc.noaa.gov/arcgis/rest/services/NPP_VIIRS_DNB/Monthly_AvgRadiance/ImageServer/" class="uri">https://gis.ngdc.noaa.gov/arcgis/rest/services/NPP_VIIRS_DNB/Monthly_AvgRadiance/ImageServer/</a>
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
</tr>
</tbody>
</table></details>
</div>
<div id="get-started" class="section level2">
<h2 class="hasAnchor">
<a href="#get-started" class="anchor"></a>Get Started</h2>
<p>Downloading the data with <strong>getremotedata</strong> is a simple two-steps workflow :</p>
<ul>
<li>
<p>With the function <strong><code><a href="reference/grd_get_url.html">grd_get_url()</a></code></strong>, get the URL(s) of the data for :</p>
<ul>
<li>a collection : see <a href="#collections-available-in-getremotedata">previous section</a>,</li>
<li>(eventually) variables,</li>
<li>(eventually) a region of interest,</li>
<li>(eventually) a time range.</li>
</ul>
</li>
<li><p>With any data download function (e.g. <code><a href="https://www.rdocumentation.org/packages/httr/topics/GET">httr::GET()</a></code> or <code><a href="https://www.rdocumentation.org/packages/opendapr/topics/odr_download_data">opendapr::odr_download_data()</a></code>), download the data.</p></li>
</ul>
<p>Additional functions include : list collection available for download ( <code>gdr_list_collections()</code> ), list variables available for the collections that have variables ( <code>gdr_list_variables()</code> )</p>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p><strong>Have a look at the <a href="(https://ptaconet.github.io/getremotedata/articles/get-started.html)"><code><a href="articles/get-started.html">vignette("get-started")</a></code></a> for a data download, import and plot workflow !</strong></p>
</div>
<div id="acknowledgment" class="section level2">
<h2 class="hasAnchor">
<a href="#acknowledgment" class="anchor"></a>Acknowledgment</h2>
<p>We thank the data providers for making their data freely available, and implementing open data access protocols that enable to download chunks of data.</p>
<p>This research has made use of <a href="http://vo.imcce.fr/webservices/miriade/">IMCCE’s Miriade VO tool</a></p>
<p>The initial development and first release of this package were financed by the <a href="https://www.mivegec.ird.fr/en/">MIVEGEC</a> unit of the <a href="https://en.ird.fr/">French Research Institute for Sustainable Development</a>, as part of the <a href="https://burkina-faso.ird.fr/la-recherche/projets-de-recherche2/gestion-de-la-resistance-aux-insecticides-au-burkina-faso-et-en-cote-d-ivoire-recherche-sur-les-strategies-de-lutte-anti-vectorielle-react">REACT project</a>.</p>
<!--

The R package `getremotedata` offers a common framework to download and import in R remote data (i.e. data stored on the cloud) from heterogeneous sources. Overall, this package attempts to **facilitate** and **speed-up** the painfull and time-consuming **data import / download** process for some well-known and widely used environmental / climatic products (e.g. [MODIS](https://modis.gsfc.nasa.gov/), [VNP](https://lpdaac.usgs.gov/search/?query=VNP&page=2), [GPM](https://www.nasa.gov/mission_pages/GPM/main/index.html), etc.) as well as other sources (e.g. [VIIRS DNB](https://ngdc.noaa.gov/eog/viirs/download_dnb_composites.html), etc.). You will take the best of `getRemoteData` if you work at **local to regional** spatial scales, i.e. typically from few decimals to a decade squared degrees. For larger areas, other packages might be more relevant (see section [Other relevant packages](#other-relevant-packages) ).

`getRemoteData` makes it efficient to import remote multidimensional data since it uses data access protocols that enable to subset them (spatially/temporally/dimensionnally) directly at the downloading phase.

## Why such a package ?  (à réécrire)

Modeling an ecological phenomenon (e.g. species distribution) using climatic/environmental data (e.g. temperature, rainfall) is quite a common task in ecology. The data analysis workflow generally consists in : 

- importing, tidying and summarizing various environmental data at geographical locations and dates of interest ;
- creating explicative / predictive models of the phenomenon using the environmental data.

Data of interest for a specific study are usually heterogeneous (various providers and formats). Downloading long time series of several environmental data "manually" (e.g. through user-friendly web portals) is time consuming, not reproducible and prone to errors. In addition, when downloaded manually, spatial datasets might cover quite large areas, or include many dimensions (e.g. the multiple bands for a MODIS product). If your aera of interest is smaller or if you do not need all the dimensions, why downloading the whole dataset ? Whenever possible (i.e. made possible by the data provider - check section [Behind the scene... how it  works](#behind-the-scene-...-how-it-works)), `getRemoteData` enables to download the data strictly for your region and dimensions of interest.

Finally, `getRemoteData` relies as much as possible on open and standard data access protocols (eg. [OPeNDAP](https://en.wikipedia.org/wiki/OPeNDAP)), which makes the package less vulnerable to external changes than packages or applications relying on APIs.

## When should you use `getRemoteData` ?

`getRemoteData` can hopefully help if you work at a local to regional spatial scale and need to download long time-series of various climatic / environmental spatialized products. By filtering the data directly at the downloading phase, `getRemoteData` enables to import strictly the data that is needed, resulting in a reduction of i) the physical size of the data that is retrieved and ii) the overall downloading time. 

Apart from these performance considerations, ethical considerations have driven the development of this package : i) reduction of the environmental impact of our digital work and ii) promotion of open protocols and standards for data access. 

## Installation

You can install the development version of `getRemoteData` from [GitHub](https://github.com/) with: 

``` r
# install.packages("devtools")
devtools::install_github("ptaconet/getRemoteData")
```

## Get the data sources downloadable with `getRemoteData`

The `get_collections_available()` function provides information on the products downloadable with `getRemoteData` :


```r
getRemoteData::get_collections_available(detailed=FALSE)
# Turn the argument `detailed` to `TRUE` (default) to get a more detailed table (details for each collection).
```



Note that the *Collections* column provides only the product's collections for which data download and import via `getRemoteData` have been tested and validated : the source products might contain more collections.

## Functions and syntax

The functions of `getRemoteData` enable to retrieve the URLs of products to download given a set of arguments of interest (time range, region of interest, collection, etc. - see below). There is one *`getUrl`* function for each product (e.g. `getUrl_modis_vnp()`, `getUrl_gpm()`, etc.)

The function `downloadData()` takes as input the output of a *`getUrl`* function and downloads the products.

The functions of the *`getUrl`* family share the following arguments : 

- `timeRange` : date or time frame of interest (eventually including hours for sub-daily resolution data) ;
- `roi` : area of interest (either point or polygon) ;
- `collection` {for multi-collection products only} : collection of interest (eg. `"MOD11A1.v006"`)
- `dimensions` {for multi-dimension products only} : dimensions of the product of interest to download (eg. `c("LST_Day_1km","LST_Night_1km")`)

Other optional arguments might be provided (see documentation of the functions). Absence of the `timeRange` (resp. `roi`) argument in a function means that the product of interest does not have any temporal (resp. spatial) dimension. The function returns a data.frame with the URL(s) to download the dataset(s) of interest and their destination file.

Data downloaded through the *`getUrl`* functions are usually in NetCDF format. The functions of the *`importData`* family enable to import these data as ready-to-use `raster` objects, eventually pre-processing them if relevant (e.g. projection, flipping).

**The *`importData`* family** : functions to import in R (usually as an object of class `raster`) a dataset that has been downnloaded *via* a function of the `getUrl` family. Similarly, there is one *`importData`* function for each product (e.g. `importData_modis_vnp()`, `importData_gpm()`, etc.)

## Behind the scene... how it works

As much as possible, when implemented by the data providers, `getRemoteData` uses open and standard data access protocols to download the data. These standard protocols enable to filter the data directly at the downloading phase. Filters can be spatial, temporal or dimensional. Example of widely-used standard data access protocols for geospatial timeseries are [OGC WFS](https://en.wikipedia.org/wiki/Web_Feature_Service) or [OPeNDAP](https://en.wikipedia.org/wiki/OPeNDAP). 
If long time series are queried, `getRemoteData` enables to speed-up the downloading time by parallelizing it.

-->
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/ptaconet/getremotedata">https://​github.com/​ptaconet/​getremotedata</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ptaconet/getremotedata/issues">https://​github.com/​ptaconet/​getremotedata/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Paul Taconet <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=getRemoteData"><img src="http://www.r-pkg.org/badges/version/getRemoteData" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://github.com/ptaconet/getRemoteData"><img src="https://img.shields.io/badge/Github-0.0.9007-blue.svg" alt="Github_Status_Badge"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Paul Taconet.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
